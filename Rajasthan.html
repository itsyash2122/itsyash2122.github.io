<!DOCTYPE html>
<html>
    <head><style> 
      #Rajasthan :hover{
        
        position: absolute;
        animation-name: example;
        animation-iteration-count: 1;
        animation-duration: 150ms;
        
        animation-timing-function: ease-in-out;

      }
      
      @keyframes example {
        0%   { left:0px; top:0px;}
        100%  { left:10px; top:0px;}
        
      }
      </style>
        <title>Rajasthan</title>
        <link rel="stylesheet" href="style/State.css">
        <script src="https://kit.fontawesome.com/c939d0e917.js"></script>
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
        <script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>    
    <script type="text/javascript" >
    var andhra_data=[['Dictrict','Confirmed']];
      google.charts.load("current", {packages:["corechart"]});
      google.charts.setOnLoadCallback(drawChart);
      

      function drawChart() {
        
          var x='https://api.covid19india.org/v2/state_district_wise.json';
          
          $.getJSON(x,function(statedata){
            
          for (i=0;i<statedata.length;i=i+1){
            if(statedata[i].state=="Rajasthan"){
              for (j=0;j<statedata[i].districtData.length;j=j+1){
                andhra_data.push([statedata[i].districtData[j].district,statedata[i].districtData[j].confirmed]);
                
              }
              
              
            }

          }

          var data = google.visualization.arrayToDataTable(andhra_data);
        console.log(data);
      var options = {
        legend: 'none',
        pieSliceText: 'label',
        title: "Rajasthan",
        pieStartAngle: 100
      };

        var chart = new google.visualization.PieChart(document.getElementById('Rajasthan'));
        chart.draw(data, options);


        });
        

        
      }
    
    </script>

       <script src="https://canvasjs.com/assets/script/canvasjs.min.js"></script>
    <script>
      var dailyConf=[];
          var dailyRec=[];
          var dailyDeaths=[];
    
      window.onload = function () {
        var y="https://api.covid19india.org/states_daily.json";
    
        $.getJSON(y,function(stateDailydata){
          console.log(stateDailydata.states_daily[4].date);
                
                for (i=0;i<stateDailydata.states_daily.length-3;i=i+3){
                      dailyConf.push({label: stateDailydata.states_daily[i].date,y: parseInt(stateDailydata.states_daily[i].rj)});
                      dailyRec.push({label:stateDailydata.states_daily[i].date,y:parseInt(stateDailydata.states_daily[i+1].rj)});
                      
                      dailyDeaths.push({label:stateDailydata.states_daily[i].date,y:parseInt(stateDailydata.states_daily[i+2].rj)});
                      
                    }
                    
      var chart = new CanvasJS.Chart("chartContainer",
       {
        theme:"dark1",
        animationEnabled: true,
        title:{
          text: "Daily Chart"
        },
        
        axisY: {
          title: "No. of cases",
          includeZero: false,
        },
        legend:{
          cursor: "pointer",
          fontSize: 16,
          itemclick: toggleDataSeries
        },
        toolTip:{
          shared: true
        },
        data: [{
          name: "Confirmed",
          type: "spline",
          yValueFormatString: "###",
          showInLegend: true,
          dataPoints: dailyConf
        },
        {
          name: "Deaths",
          type: "spline",
          yValueFormatString: "###",
          showInLegend: true,
          dataPoints: dailyDeaths
        },
        {
          name: "Recovered",
          type: "spline",
          yValueFormatString: "### ",
          showInLegend: true,
          dataPoints: dailyRec
        }]
      });
      
      chart.render();
      
      function toggleDataSeries(e){
        if (typeof(e.dataSeries.visible) === "undefined" || e.dataSeries.visible) {
          e.dataSeries.visible = false;
        }
        else{
          e.dataSeries.visible = true;
        }
        chart.render();
      }
    });
      
      }
      </script>
      <script>
      
        x="https://api.covid19india.org/v2/state_district_wise.json";
        $.getJSON(x,function(stated){
          var tableD="";
         
        stated.forEach(function(s, index){
          if(s.state=="Rajasthan"){
                for (j=0;j<s.districtData.length;j=j+1){
        
        tableD+=`<tr class="data-div" style="background: none;">
                          <td style="color: rgb(255, 255, 255);"><div>&nbsp;</div>${s.districtData[j].district}</td>
                          <td style="color: rgb(255, 255, 255);"><div> <i class="fa fa-arrow-up" style="color: rgb(0, 181, 255); font-size: 12px; font-weight: normal; visibility: hidden;">0</i></div><span>${s.districtData[j].confirmed}</span></td>
                          <td style="color: rgb(255, 255, 255);"><div> <i class="fa fa-arrow-up" style="color: lightgreen; font-size: 12px; font-weight: normal; visibility: hidden;">0</i></div><span>${s.districtData[j].recovered}</span></td>
                          <td style="color: rgb(255, 255, 255);"><div> <i class="fa fa-arrow-up" style="color: red; font-size: 12px; font-weight: normal; visibility: hidden;">0</i></div><span>${s.districtData[j].deceased}</span></td>
                          
                        </tr>`}
                      }
                      });
            
                console.log(tableD);
                document.querySelector('.tbody').innerHTML = tableD;
        });
      </script>
      </head>
    <body>
        
            <div class="title">Rajasthan</div>
            <div class="table">

                <table class="internal-table"><thead><tr class="label-div"><th style="border-right-color: currentColor; border-right-width: medium; border-right-style: none; color:chocolate">DISTRICT</th><th style="color:chocolate">INFECTED<i class=" fa fa-arrow-up" style="transition:transform 0.2s ease-in-out; transform: none;"></i></th><th style="color:chocolate">RECOVERED</th><th style="color:chocolate">DEATHS</th></tr></thead><tbody class="tbody"></tbody></table></div>
                <div id="chartContainer" style=" width: 570px; height: 350px; margin-top:15px;margin-right: 70px; float: right;"></div> 
        
                <div id="Rajasthan" style="width: 400px; height: 300px;  margin-top:50px;margin-left:150px;"></div>


    </body>
</html>