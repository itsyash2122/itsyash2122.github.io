<!DOCTYPE html>
<html>
    <head>

        

        <title>Country Data live</title>
        <link rel="stylesheet" href="style/State.css">
        <script src="https://kit.fontawesome.com/c939d0e917.js"></script>
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
        
        <script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>    
    <script type="text/javascript" >
        var andhra_data=[['State','Confirmed']];
      google.charts.load("current", {packages:["corechart"]});
      google.charts.setOnLoadCallback(drawChart);
      

      function drawChart() {
        
          var x='https://api.covid19india.org/data.json';
          
          $.getJSON(x,function(stated){
            
          for (i=1;i<stated.statewise.length;i=i+1){
            
              
                andhra_data.push([stated.statewise[i].state,parseInt(stated.statewise[i].confirmed)
                ]);
              

          }

          var data = google.visualization.arrayToDataTable(andhra_data);
        console.log(data);
      var options = {
        legend: 'none',
        pieSliceText: 'label',
        title: "India",
        pieStartAngle: 100
      };

        var chart = new google.visualization.PieChart(document.getElementById('cntry'));
        chart.draw(data, options);


        });
        

        
      }
</script>

<script src="https://canvasjs.com/assets/script/canvasjs.min.js"></script>
<script>
  var dailyConf=[];
      var dailyRec=[];
      var dailyDeaths=[];

  window.onload = function () {
    var y="https://api.covid19india.org/data.json";

    $.getJSON(y,function(Dailydata){
            
            for (i=0;i<Dailydata.cases_time_series.length;i=i+1){
                  dailyConf.push({label: Dailydata.cases_time_series[i].date,y: parseInt(Dailydata.cases_time_series[i].dailyconfirmed)});
                  dailyRec.push({label:Dailydata.cases_time_series[i].date,y:parseInt(Dailydata.cases_time_series[i].dailyrecovered)});
                  
                  dailyDeaths.push({label:Dailydata.cases_time_series[i].date,y:parseInt(Dailydata.cases_time_series[i].dailydeceased)});
                  
                }
                
  var chart = new CanvasJS.Chart("chartContainer",
   {
    theme:"dark1",
    animationEnabled: true,
    title:{
      text: "India's Daily Chart"
    },
    
    axisY: {
      title: "No. of cases",
      includeZero: false,
    },
    legend:{
      cursor: "pointer",
      fontSize: 16,
      itemclick: toggleDataSeries
    },
    toolTip:{
      shared: true
    },
    data: [{
      name: "Confirmed",
      type: "spline",
      yValueFormatString: "###",
      showInLegend: true,
      dataPoints: dailyConf
    },
    {
      name: "Deaths",
      type: "spline",
      yValueFormatString: "###",
      showInLegend: true,
      dataPoints: dailyDeaths
    },
    {
      name: "Recovered",
      type: "spline",
      yValueFormatString: "### ",
      showInLegend: true,
      dataPoints: dailyRec
    }]
  });
  
  chart.render();
  
  function toggleDataSeries(e){
    if (typeof(e.dataSeries.visible) === "undefined" || e.dataSeries.visible) {
      e.dataSeries.visible = false;
    }
    else{
      e.dataSeries.visible = true;
    }
    chart.render();
  }
});
  
  }
  </script>
<script>
var x='https://api.covid19india.org/data.json';
var tc="";
var ta="";
var tr="";
var td="";          
$.getJSON(x,function(stated){
  len=stated.cases_time_series.length;
   tc=stated.cases_time_series[len-1].totalconfirmed;
   
   tr=stated.cases_time_series[len-1].totalrecovered;
   td=stated.cases_time_series[len-1].totaldeceased; 
   ta=tc-tr-td;
    

});
    
</script>
    </head>
    <body><div style="margin-top:2px;width:100vh; height:52px;background-color: #424949;">
      <table style="margin-left: 60px;">
      <tr style="font-size:20px;margin-top:6px;font-family:'Times New Roman', Times, serif;background-color:ghostwhite;" >
      <td style="width:100px;height:45px;border-radius: 5px;">&nbsp;&nbsp;&nbsp;<a href="main.html">HOME</a></td>
      <td style="width:100px;height:45px;border-radius: 5px;">&nbsp;&nbsp;&nbsp;<a href="country.html">INDIA</a></td>
      <td style="width:100px;height:45px;border-radius: 5px;">&nbsp;&nbsp;&nbsp;<a href="world.html">WORLD</a></td>
      </tr></table></div>
        
        <div class="title">INDIA's Data(Live)</div>
            
            
        <div class="country-total-container">
            <div class="country-total">
            <h2 style="margin-left:80px ; margin-top:3px;font-family:'Times New Roman', Times, serif; color:whitesmoke ;">Total Confirmed</h2>
            <h4 id="ct" style="margin-left:80px ; margin-top:1px;font-family: 'Times New Roman', Times, serif; color:blanchedalmond;">226723</h4>
        </div></div>
        <div class="country-active-container">
            <div id="ca" class="country-active">
            <h2 style="margin-left:80px ; margin-top:3px;font-family:'Times New Roman', Times, serif; color: whitesmoke;">Total Active</h2>
            <h4 id="ca" style="margin-left:80px ; margin-top:1px;font-family: 'Times New Roman', Times, serif; color:blanchedalmond;">111907</h4>
        </div></div>
        <div class="country-recovered-container">
            <div id="cr" class="country-recovered">
            <h2 style="margin-left:80px ; margin-top:3px;font-family: 'Times New Roman', Times, serif; color:whitesmoke;">Total Recovered</h2>
            <h4 id="cr" style="margin-left:80px ; margin-top:1px;font-family: 'Times New Roman', Times, serif; color:blanchedalmond;">108454</h4>
        </div></div>
        <div class="country-deaths-container">
            <div id="cd" class="country-deaths">
            <h2 style="margin-left:80px ; margin-top:3px;font-family:'Times New Roman', Times, serif; color:whitesmoke;">Total Deaths</h2>
            <h4 id="cd" style="margin-left:80px ; margin-top:1px;font-family:'Times New Roman', Times, serif; color:blanchedalmond;">6362</h4>
        </div>
        </div>
   
    <div id="chartContainer" style=" width: 570px; height: 350px;margin-bottom: 10px;margin-top:170px;margin-left:700px;"></div> 
    <div id="cntry" style="width: 570px; height: 350px;  margin-top:80px;margin-left:60px;"></div>
    
              
    <div style="position:absolute;margin-top:1000px;width:100%; height:52px;background-color: #424949;">
        <table style="margin-left: 60px;">
        <tr style="font-size:20px;margin-top:6px;font-family:'Times New Roman', Times, serif;" >
        <td><marquee>The Website is based on real time data of Corona Virus across the globe</marquee></td>
        </tr></table></div>
            

    </body>
</html>
